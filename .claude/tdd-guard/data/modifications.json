{
  "session_id": "9efa7ac4-744f-4a64-ba22-448ea8f593ca",
  "transcript_path": "/Users/benny/.claude/projects/-Users-benny-opt-ai-coding-tryout-heather/9efa7ac4-744f-4a64-ba22-448ea8f593ca.jsonl",
  "hook_event_name": "PreToolUse",
  "tool_name": "Edit",
  "tool_input": {
    "file_path": "/Users/benny/opt/ai-coding-tryout/heather/frontend/src/App.test.tsx",
    "old_string": "  it('should calculate life left for female using 85 years expectancy', async () => {\n    const user = userEvent.setup()\n\n    global.fetch = vi.fn(() =>\n      Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({ age: 45 }),\n      })\n    ) as unknown as typeof fetch\n\n    render(<App />)\n\n    const genderSelect = screen.getByTestId('gender-select')\n    await user.selectOptions(genderSelect, 'female')\n\n    const birthdateInput = screen.getByTestId('birthdate-input')\n    await user.type(birthdateInput, '1980-01-01')\n\n    const calculateButton = screen.getByTestId('calculate-age-button')\n    await user.click(calculateButton)\n\n    await waitFor(() => {\n      expect(screen.getByTestId('age-result')).toBeInTheDocument()\n    })\n\n    const lifeRemainingButton = screen.getByTestId('life-left-button')\n    await user.click(lifeRemainingButton)\n\n    expect(screen.getByTestId('life-left-result')).toBeInTheDocument()\n    expect(screen.getByTestId('life-left-result')).toHaveTextContent('40')\n  })\n\n  it('should calculate life left for male using 75 years expectancy', async () => {\n    const user = userEvent.setup()\n\n    global.fetch = vi.fn(() =>\n      Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({ age: 45 }),\n      })\n    ) as unknown as typeof fetch\n\n    render(<App />)\n\n    const genderSelect = screen.getByTestId('gender-select')\n    await user.selectOptions(genderSelect, 'male')\n\n    const birthdateInput = screen.getByTestId('birthdate-input')\n    await user.type(birthdateInput, '1980-01-01')\n\n    const calculateButton = screen.getByTestId('calculate-age-button')\n    await user.click(calculateButton)\n\n    await waitFor(() => {\n      expect(screen.getByTestId('age-result')).toBeInTheDocument()\n    })\n\n    const lifeRemainingButton = screen.getByTestId('life-left-button')\n    await user.click(lifeRemainingButton)\n\n    expect(screen.getByTestId('life-left-result')).toBeInTheDocument()\n    expect(screen.getByTestId('life-left-result')).toHaveTextContent('30')\n  })",
    "new_string": "  it.each([\n    { gender: 'female' as const, lifeExpectancy: 85, expectedYearsLeft: 40 },\n    { gender: 'male' as const, lifeExpectancy: 75, expectedYearsLeft: 30 },\n  ])('should calculate life left for $gender using $lifeExpectancy years expectancy', async ({ gender, expectedYearsLeft }) => {\n    const user = userEvent.setup()\n\n    global.fetch = vi.fn(() =>\n      Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({ age: 45 }),\n      })\n    ) as unknown as typeof fetch\n\n    render(<App />)\n\n    const genderSelect = screen.getByTestId('gender-select')\n    await user.selectOptions(genderSelect, gender)\n\n    const birthdateInput = screen.getByTestId('birthdate-input')\n    await user.type(birthdateInput, '1980-01-01')\n\n    const calculateButton = screen.getByTestId('calculate-age-button')\n    await user.click(calculateButton)\n\n    await waitFor(() => {\n      expect(screen.getByTestId('age-result')).toBeInTheDocument()\n    })\n\n    const lifeRemainingButton = screen.getByTestId('life-left-button')\n    await user.click(lifeRemainingButton)\n\n    expect(screen.getByTestId('life-left-result')).toBeInTheDocument()\n    expect(screen.getByTestId('life-left-result')).toHaveTextContent(expectedYearsLeft.toString())\n  })"
  }
}